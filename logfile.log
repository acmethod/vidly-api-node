{"level":"info","message":"Connected to mongo db..."}
{"level":"info","message":"Connected to mongo db..."}
{"level":"info","message":"Connected to mongo db..."}
{"level":"info","message":"Connected to mongo db..."}
{"level":"info","message":"Connected to mongo db..."}
{"level":"info","message":"Connected to mongo db..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongo db..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongo db..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000 in production environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"error","message":"Could not get genres.","metadata":{},"stack":"Error: Could not get genres.\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:8:11\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:323:13)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:284:7"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Could not get genres.","metadata":{},"stack":"Error: Could not get genres.\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:8:11\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:323:13)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:284:7"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","metadata":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"1\"","value":"1","valueType":"string"},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"\n    at model.Query.exec (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4639:21)\n    at model.Query.Object.<anonymous>.Query.then (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4738:15)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","metadata":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"1\"","value":"1","valueType":"string"},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"\n    at model.Query.exec (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4639:21)\n    at model.Query.Query.then (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4738:15)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot read property 'Types' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'Types' of undefined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:14:14\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:360:14)\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:371:14)\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:416:3)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"error","message":"Cannot read property 'Types' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'Types' of undefined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:14:14\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:360:14)\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:371:14)\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:416:3)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot read property 'Types' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'Types' of undefined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:15:19\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:360:14)\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:371:14)\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:416:3)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"error","message":"Cannot read property 'Types' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'Types' of undefined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:15:19\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:360:14)\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:371:14)\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:416:3)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot read property 'Types' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'Types' of undefined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:15:19\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:360:14)\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:371:14)\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:416:3)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"error","message":"Cannot read property 'Types' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'Types' of undefined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:15:19\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:360:14)\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:371:14)\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:416:3)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot read property 'Types' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'Types' of undefined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:15:19\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:360:14)\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:371:14)\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:416:3)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"error","message":"Cannot read property 'Types' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'Types' of undefined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:15:19\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:360:14)\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:371:14)\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:416:3)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot read property 'Types' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'Types' of undefined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:15:19\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:360:14)\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:371:14)\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:416:3)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"error","message":"Cannot read property 'Types' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'Types' of undefined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:15:19\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:360:14)\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:371:14)\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:416:3)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot read property 'Types' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'Types' of undefined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:15:19\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:360:14)\n    at param (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:371:14)\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:416:3)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","metadata":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"1\"","value":"1","valueType":"string"},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"\n    at model.Query.exec (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4639:21)\n    at model.Query.Object.<anonymous>.Query.then (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4738:15)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Genere validation failed: name: Path `name` (`1234`) is shorter than the minimum allowed length (5).","metadata":{"_message":"Genere validation failed","errors":{"name":{"kind":"minlength","message":"Path `name` (`1234`) is shorter than the minimum allowed length (5).","name":"ValidatorError","path":"name","properties":{"message":"Path `name` (`1234`) is shorter than the minimum allowed length (5).","minlength":5,"path":"name","type":"minlength","value":"1234"},"value":"1234"}},"message":"Genere validation failed: name: Path `name` (`1234`) is shorter than the minimum allowed length (5).","name":"ValidationError"},"stack":"ValidationError: Genere validation failed: name: Path `name` (`1234`) is shorter than the minimum allowed length (5).\n    at model.Object.<anonymous>.Document.invalidate (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\document.js:2940:32)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\document.js:2731:17\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\schematype.js:1280:9\n    at processTicksAndRejections (internal/process/task_queues.js:77:11)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","metadata":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"1\"","value":"1","valueType":"string"},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"\n    at model.Query.exec (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4639:21)\n    at model.Query.Object.<anonymous>.Query.then (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4738:15)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","metadata":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"1\"","value":"1","valueType":"string"},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"\n    at model.Query.exec (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4639:21)\n    at model.Query.Object.<anonymous>.Query.then (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4738:15)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","metadata":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"1\"","value":"1","valueType":"string"},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"\n    at model.Query.exec (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4639:21)\n    at model.Query.Object.<anonymous>.Query.then (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4738:15)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","metadata":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"1\"","value":"1","valueType":"string"},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"\n    at model.Query.exec (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4639:21)\n    at model.Query.Object.<anonymous>.Query.then (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4738:15)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","metadata":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"1\"","value":"1","valueType":"string"},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genere\"\n    at model.Query.exec (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4639:21)\n    at model.Query.Object.<anonymous>.Query.then (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4738:15)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot set headers after they are sent to the client","metadata":{"code":"ERR_HTTP_HEADERS_SENT"},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:561:11)\n    at ServerResponse.header (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:776:10)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:170:12)\n    at ServerResponse.json (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:267:15)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:158:21)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:67:9\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"Cannot set headers after they are sent to the client","metadata":{"code":"ERR_HTTP_HEADERS_SENT"},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:561:11)\n    at ServerResponse.header (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:776:10)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:170:12)\n    at ServerResponse.json (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:267:15)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:158:21)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:67:9\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"Cannot set headers after they are sent to the client","metadata":{"code":"ERR_HTTP_HEADERS_SENT"},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:561:11)\n    at ServerResponse.header (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:776:10)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:170:12)\n    at validateObjectId (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\validateObjectId.js:6:25)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at admin (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\admin.js:6:5)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"error","message":"Cannot set headers after they are sent to the client","metadata":{"code":"ERR_HTTP_HEADERS_SENT"},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:561:11)\n    at ServerResponse.header (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:776:10)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:170:12)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:63:25\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot set headers after they are sent to the client","metadata":{"code":"ERR_HTTP_HEADERS_SENT"},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:561:11)\n    at ServerResponse.header (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:776:10)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:170:12)\n    at ServerResponse.json (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:267:15)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:158:21)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:67:9\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"Cannot set headers after they are sent to the client","metadata":{"code":"ERR_HTTP_HEADERS_SENT"},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:561:11)\n    at ServerResponse.header (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:776:10)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:170:12)\n    at ServerResponse.json (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:267:15)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:158:21)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:67:9\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"Cannot set headers after they are sent to the client","metadata":{"code":"ERR_HTTP_HEADERS_SENT"},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:561:11)\n    at ServerResponse.header (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:776:10)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:170:12)\n    at validateObjectId (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\validateObjectId.js:6:25)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at admin (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\admin.js:6:5)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"error","message":"Cannot set headers after they are sent to the client","metadata":{"code":"ERR_HTTP_HEADERS_SENT"},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:561:11)\n    at ServerResponse.header (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:776:10)\n    at ServerResponse.send (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\response.js:170:12)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:63:25\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Rental\"","metadata":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Rental\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"1\"","value":"1","valueType":"string"},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Rental\"\n    at model.Query.exec (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4639:21)\n    at model.Query.Object.<anonymous>.Query.then (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\query.js:4738:15)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"returnDate is not defined","metadata":{},"stack":"ReferenceError: returnDate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:18:5\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"returnDate is not defined","metadata":{},"stack":"ReferenceError: returnDate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:18:5\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"returnDate is not defined","metadata":{},"stack":"ReferenceError: returnDate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:18:5\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"returnDate is not defined","metadata":{},"stack":"ReferenceError: returnDate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:18:5\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"returnDate is not defined","metadata":{},"stack":"ReferenceError: returnDate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:18:5\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"returnDate is not defined","metadata":{},"stack":"ReferenceError: returnDate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:18:5\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"returnDate is not defined","metadata":{},"stack":"ReferenceError: returnDate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:18:5\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"returnDate is not defined","metadata":{},"stack":"ReferenceError: returnDate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:18:5\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Rental validation failed: returnDate: Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"","metadata":{"_message":"Rental validation failed","errors":{"returnDate":{"kind":"date","message":"Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"","name":"CastError","path":"returnDate","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"[Function: now]\"","valueType":"function"}},"message":"Rental validation failed: returnDate: Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"","name":"ValidationError"},"stack":"ValidationError: Rental validation failed: returnDate: Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"\n    at model.Object.<anonymous>.Document.invalidate (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\document.js:2940:32)\n    at model.$set (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\document.js:1471:12)\n    at model.set [as returnDate] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:174:19)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:23:5\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"Rental validation failed: returnDate: Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"","metadata":{"_message":"Rental validation failed","errors":{"returnDate":{"kind":"date","message":"Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"","name":"CastError","path":"returnDate","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"[Function: now]\"","valueType":"function"}},"message":"Rental validation failed: returnDate: Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"","name":"ValidationError"},"stack":"ValidationError: Rental validation failed: returnDate: Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"\n    at model.Object.<anonymous>.Document.invalidate (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\document.js:2940:32)\n    at model.$set (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\document.js:1471:12)\n    at model.set [as returnDate] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:174:19)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:23:5\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"Rental validation failed: returnDate: Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"","metadata":{"_message":"Rental validation failed","errors":{"returnDate":{"kind":"date","message":"Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"","name":"CastError","path":"returnDate","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"[Function: now]\"","valueType":"function"}},"message":"Rental validation failed: returnDate: Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"","name":"ValidationError"},"stack":"ValidationError: Rental validation failed: returnDate: Cast to date failed for value \"[Function: now]\" (type function) at path \"returnDate\"\n    at model.Object.<anonymous>.Document.invalidate (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\document.js:2940:32)\n    at model.$set (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\document.js:1471:12)\n    at model.set [as returnDate] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:174:19)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:23:5\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"validate is not defined","metadata":{},"stack":"ReferenceError: validate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"validate is not defined","metadata":{},"stack":"ReferenceError: validate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"validate is not defined","metadata":{},"stack":"ReferenceError: validate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"validate is not defined","metadata":{},"stack":"ReferenceError: validate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"validate is not defined","metadata":{},"stack":"ReferenceError: validate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"validate is not defined","metadata":{},"stack":"ReferenceError: validate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"validate is not defined","metadata":{},"stack":"ReferenceError: validate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"validate is not defined","metadata":{},"stack":"ReferenceError: validate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"validate is not defined","metadata":{},"stack":"ReferenceError: validate is not defined\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Cannot read property 'required' of undefined","metadata":{},"stack":"TypeError: Cannot read property 'required' of undefined\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:34)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:45:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:10:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"error","message":"Joi.objectId is not a function","metadata":{},"stack":"TypeError: Joi.objectId is not a function\n    at validateReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:46:25)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:11:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"error","message":"validate is not a function","metadata":{},"stack":"TypeError: validate is not a function\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:25:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"error","message":"validate is not a function","metadata":{},"stack":"TypeError: validate is not a function\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:25:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"error","message":"validate is not a function","metadata":{},"stack":"TypeError: validate is not a function\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:25:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"validate is not a function","metadata":{},"stack":"TypeError: validate is not a function\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\genres.js:25:21\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at auth (C:\\Work\\Tutorials\\NodeJS\\vidly\\middleware\\auth.js:14:9)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:341:12)\n    at next (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"error","message":"E11000 duplicate key error collection: vidly.generes index: name_1 dup key: { name: \"Musical\" }","metadata":{"code":11000,"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Musical"}},"stack":"MongoServerError: E11000 duplicate key error collection: vidly.generes index: name_1 dup key: { name: \"Musical\" }\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongodb\\lib\\operations\\insert.js:51:33\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongodb\\lib\\cmap\\connection_pool.js:272:25\n    at handleOperationResult (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongodb\\lib\\sdam\\server.js:370:9)\n    at MessageStream.messageHandler (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongodb\\lib\\cmap\\connection.js:479:9)\n    at MessageStream.emit (events.js:400:28)\n    at processIncomingData (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:108:16)\n    at MessageStream._write (C:\\Work\\Tutorials\\NodeJS\\vidly\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:28:9)\n    at writeOrBuffer (internal/streams/writable.js:358:12)\n    at MessageStream.Writable.write (internal/streams/writable.js:303:10)\n    at Socket.ondata (internal/streams/readable.js:726:22)\n    at Socket.emit (events.js:400:28)\n    at addChunk (internal/streams/readable.js:290:12)\n    at readableAddChunk (internal/streams/readable.js:265:9)\n    at Socket.Readable.push (internal/streams/readable.js:204:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)"}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"moment is not defined","metadata":{},"stack":"ReferenceError: moment is not defined\n    at model.doReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\models\\rental.js:30:18)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:26:12\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"moment is not defined","metadata":{},"stack":"ReferenceError: moment is not defined\n    at model.doReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\models\\rental.js:30:18)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:26:12\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"moment is not defined","metadata":{},"stack":"ReferenceError: moment is not defined\n    at model.doReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\models\\rental.js:30:18)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:26:12\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"moment is not defined","metadata":{},"stack":"ReferenceError: moment is not defined\n    at model.doReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\models\\rental.js:30:18)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:26:12\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"error","message":"moment is not defined","metadata":{},"stack":"ReferenceError: moment is not defined\n    at model.doReturn (C:\\Work\\Tutorials\\NodeJS\\vidly\\models\\rental.js:30:18)\n    at C:\\Work\\Tutorials\\NodeJS\\vidly\\routes\\returns.js:26:12\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in test environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000 in development environment..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
